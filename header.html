<nav class="nav-wrap" role="navigation" aria-label="Main">
  <div class="nav">
    <a class="brand" href="/">
      <span class="name">The NBA Agent</span>
      <span class="kicker">Player Representation</span>
    </a>

    <!-- Mobile toggle (CSS-only). Input is the state; labels are the buttons -->
    <input id="navToggle" class="nav-toggle" type="checkbox" aria-hidden="true" />
    <label for="navToggle" class="hamburger" aria-label="Toggle menu" aria-controls="mobileMenu" aria-expanded="false">
      <span></span><span></span><span></span>
    </label>

    <!-- Desktop links (unchanged for desktop) -->
    <ul class="links" data-navlist>
      <li><a href="/">About</a></li>

      <li class="has-sub" aria-haspopup="true">
        <a href="/players/">Players</a>
        <button class="caret" aria-expanded="false" aria-label="Toggle Players submenu"></button>
        <ul class="sub" aria-label="Players submenu">
          <li><a href="/players/lacey.html">Lacey James</a></li>
          <li><a href="/players/birima.html">Birima Seck</a></li>
        </ul>
      </li>

      <li><a href="/contact.html">Contact</a></li>
    </ul>
  </div>

  <!-- Full-screen overlay menu (mobile only) -->
  <div id="mobileMenu" class="mobile-overlay" aria-hidden="true">
    <!-- Top bar space so the close “X” sits exactly where the hamburger is -->
    <div class="overlay-top">
      <!-- Close “X” is just the same label pointing to the same checkbox -->
      <label for="navToggle" class="close-btn" aria-label="Close menu">✕</label>
    </div>

    <nav class="overlay-nav" role="dialog" aria-modal="true" aria-label="Site Menu">
      <ul class="overlay-links">
        <li><a href="/">About</a></li>

        <!-- Players accordion (CSS-only via <details>) -->
        <li class="overlay-has-sub">
          <details>
            <summary><span>Players</span><i class="car"></i></summary>
            <ul class="overlay-sub">
              <li><a href="/players/lacey.html">Lacey James</a></li>
              <li><a href="/players/birima.html">Birima Seck</a></li>
            </ul>
          </details>
        </li>

        <li><a href="/contact.html">Contact</a></li>
      </ul>
    </nav>

    <!-- Clickable backdrop area; clicking it also closes via the same checkbox -->
    <label for="navToggle" class="overlay-backdrop" aria-label="Close menu"></label>
  </div>

  <style>
    /* ===== Base structure (keeps your existing look) ===== */
    .nav { display:flex; align-items:center; justify-content:space-between; gap:16px; padding:12px 16px; }
    .brand { text-decoration:none; display:inline-flex; flex-direction:column; gap:2px; }
    .brand .name { font-weight:800; letter-spacing:.02em; line-height:1; }
    .brand .kicker { font-size:12px; letter-spacing:.12em; text-transform:uppercase; opacity:.7; }

    /* Hide the checkbox (it holds open/close state) */
    .nav-toggle { position:absolute; width:1px; height:1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; padding:0; margin:-1px; }

    /* Hamburger button */
    .hamburger {
      display:none; /* only on mobile */
      -webkit-tap-highlight-color: transparent;
      width:44px; height:44px;
      border:1px solid rgba(0,0,0,.12);
      border-radius:12px; background:#fff;
      align-items:center; justify-content:center;
      cursor:pointer;
    }
    .hamburger span {
      display:block; width:20px; height:2px; background:#0b0b0b; margin:2.5px 0;
      transition:transform .25s ease, opacity .25s ease;
    }

    /* When checked, animate hamburger into X */
    .nav-toggle:checked + .hamburger span:nth-child(1){ transform: translateY(4.5px) rotate(45deg); }
    .nav-toggle:checked + .hamburger span:nth-child(2){ opacity:0; }
    .nav-toggle:checked + .hamburger span:nth-child(3){ transform: translateY(-4.5px) rotate(-45deg); }

    /* ===== Mobile overlay (only active under 900px) ===== */
    .mobile-overlay { display:none; } /* hidden on desktop */

    @media (max-width:900px){
      /* Show hamburger; hide desktop list */
      .hamburger { display:inline-flex; }
      .links { display:none; }

      /* Full-screen overlay container */
      .mobile-overlay{
        position:fixed; inset:0; z-index:9999;
        display:grid; grid-template-rows: auto 1fr;
        pointer-events:none; /* re-enabled on children */
      }

      /* Backdrop: 80% grey */
      .overlay-backdrop{
        position:fixed; inset:0;
        background: rgba(128,128,128,0.8);
        pointer-events:auto; /* so taps close when clicking backdrop */
        cursor: default;
      }

      /* Top spacer: keeps the X exactly where the hamburger is */
      .overlay-top{
        height:64px; /* header height; adjust if yours is different */
        pointer-events:none;
      }
      /* Close X button in the same place as hamburger (top-right) */
      .close-btn{
        position:fixed; top:12px; right:16px;
        width:44px; height:44px; display:flex; align-items:center; justify-content:center;
        border:1px solid rgba(255,255,255,.35); border-radius:12px;
        color:#fff; background:transparent; font-size:22px; line-height:1;
        pointer-events:auto; cursor:pointer; text-decoration:none;
      }

      /* Menu content */
      .overlay-nav{ position:relative; pointer-events:auto; display:block; }
      .overlay-links{ list-style:none; margin:0; padding:18px; display:grid; gap:6px; }
      .overlay-links > li > a{
        display:block; padding:14px 4px; font-size:22px; color:#fff; text-decoration:none;
      }

      /* Accordion for Players using details/summary (CSS-only) */
      .overlay-has-sub details{ border-top:1px solid rgba(255,255,255,.18); }
      .overlay-has-sub summary{
        list-style:none; display:flex; align-items:center; justify-content:space-between;
        cursor:pointer; padding:14px 4px; color:#fff; font-size:22px;
      }
      .overlay-has-sub summary::-webkit-details-marker{ display:none; }
      .overlay-has-sub .car{
        width:14px; height:14px; border-right:2px solid #fff; border-bottom:2px solid #fff;
        transform: rotate(-45deg); transition: transform .2s ease;
      }
      .overlay-has-sub details[open] .car{ transform: rotate(135deg); }
      .overlay-sub{ list-style:none; margin:0; padding: 0 0 8px 10px; }
      .overlay-sub a{ display:block; padding:10px 4px; color:#fff; font-size:18px; text-decoration:none; opacity:.95; }

      /* Toggle visibility using the checkbox (no JS) */
      .nav-toggle:not(:checked) ~ .mobile-overlay{ display:none; }
      .nav-toggle:checked       ~ .mobile-overlay{ display:block; }

      /* Prevent background scrolling by covering everything with fixed overlay.
         (No body class change needed because overlay intercepts scroll.) */
    }
  </style>
</nav>
