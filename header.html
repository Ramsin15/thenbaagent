<nav class="nav-wrap" role="navigation" aria-label="Main">
  <div class="nav">
    <a class="brand" href="/">
      <span class="name">The NBA Agent</span>
      <span class="kicker">Player Representation</span>
    </a>

    <!-- Mobile toggle state (CSS-only) -->
    <input id="navToggle" class="mobile-toggle" type="checkbox" aria-hidden="true" />

    <!-- Hamburger (shows only on mobile) -->
    <label for="navToggle" class="mobile-hamburger" aria-label="Toggle menu" aria-controls="mobileMenu" aria-expanded="false">
      <span></span><span></span><span></span>
    </label>

    <!-- Desktop links (unchanged look; hidden on mobile only) -->
    <ul class="links" data-navlist>
      <li><a href="/">About</a></li>
      <li class="has-sub" aria-haspopup="true">
        <a href="/players/">Players</a>
        <button class="caret" aria-expanded="false" aria-label="Toggle Players submenu"></button>
        <ul class="sub" aria-label="Players submenu">
          <li><a href="/players/lacey.html">Lacey James</a></li>
          <li><a href="/players/birima.html">Birima Seck</a></li>
        </ul>
      </li>
      <li><a href="/contact.html">Contact</a></li>
    </ul>
  </div>

  <!-- Mobile full-screen overlay (scoped styles) -->
  <div id="mobileMenu" class="mobile-overlay" aria-hidden="true">
    <label for="navToggle" class="mobile-close" aria-label="Close menu">✕</label>

    <nav class="mobile-panel" role="dialog" aria-modal="true" aria-label="Site Menu">
      <ul class="mobile-links">
        <li><a href="/">About</a></li>

        <!-- Players accordion (CSS-only via <details>) -->
        <li class="mobile-has-sub">
          <details>
            <summary><span>Players</span><i class="car"></i></summary>
            <ul class="mobile-sub">
              <li><a href="/players/lacey.html">Lacey James</a></li>
              <li><a href="/players/birima.html">Birima Seck</a></li>
            </ul>
          </details>
        </li>

        <li><a href="/contact.html">Contact</a></li>
      </ul>
    </nav>

    <!-- Backdrop closes the menu as well -->
    <label for="navToggle" class="mobile-backdrop" aria-label="Close menu"></label>
  </div>

  <style>
    /* ===============================
       MOBILE HEADER — SCOPED STYLES
       (Desktop look stays as your site defines it)
       =============================== */

    /* Never affect layout horizontally */
    html, body { overflow-x: hidden; }

    /* Hidden checkbox to store open/close state */
    .mobile-toggle {
      position:absolute; width:1px; height:1px; overflow:hidden; clip:rect(0 0 0 0);
      white-space:nowrap; border:0; padding:0; margin:-1px;
    }

    /* Hamburger button (mobile only). Keep neutral styling to avoid theme clash */
    .mobile-hamburger {
      display:none;
      -webkit-tap-highlight-color:transparent;
      width:44px; height:44px;
      border:1px solid rgba(0,0,0,.12);
      border-radius:12px; background:#fff;
      align-items:center; justify-content:center; cursor:pointer;
    }
    .mobile-hamburger span {
      display:block; width:20px; height:2px; background:#0b0b0b; margin:2.5px 0;
      transition:transform .25s ease, opacity .25s ease;
    }

    /* Turn hamburger into X when open */
    .mobile-toggle:checked + .mobile-hamburger span:nth-child(1){ transform: translateY(4.5px) rotate(45deg); }
    .mobile-toggle:checked + .mobile-hamburger span:nth-child(2){ opacity:0; }
    .mobile-toggle:checked + .mobile-hamburger span:nth-child(3){ transform: translateY(-4.5px) rotate(-45deg); }

    /* Overlay base (mobile only) */
    .mobile-overlay { display:none; } /* hidden on desktop */

    @media (max-width: 900px){
      /* Hide desktop links and show hamburger */
      .links { display:none; }
      .mobile-hamburger { display:inline-flex; }

      /* Full-screen overlay container (covers everything) */
      .mobile-overlay{
        position:fixed; inset:0; z-index:9999; pointer-events:none;
      }

      /* Backdrop: 80% grey */
      .mobile-backdrop{
        position:fixed; inset:0; background:rgba(128,128,128,0.8);
        pointer-events:auto; cursor:default;
      }

      /* Close X in the top-right (aligned with hamburger area) */
      .mobile-close{
        position:fixed; top: max(12px, env(safe-area-inset-top)); right:16px;
        width:44px; height:44px; display:flex; align-items:center; justify-content:center;
        border:1px solid rgba(255,255,255,.35); border-radius:12px;
        color:#fff; background:transparent; font-size:22px; line-height:1;
        pointer-events:auto; cursor:pointer; text-decoration:none;
      }

      /* Menu panel (scrollable) */
      .mobile-panel{
        position:fixed; inset:0; display:flex; align-items:flex-start; justify-content:flex-start;
        padding: calc(16px + env(safe-area-inset-top)) 18px 18px 18px;
        pointer-events:auto;
      }

      .mobile-links{
        list-style:none; margin:0; padding:64px 0 0 0;  /* top pad so items sit below brand area visually */
        display:grid; gap:6px; max-height:100%; overflow-y:auto; -webkit-overflow-scrolling:touch;
        width:100%;
        color:#fff;
      }
      .mobile-links > li > a{
        display:block; padding:14px 2px; font-size:22px; color:#fff; text-decoration:none;
      }

      /* Players accordion (CSS-only details/summary) */
      .mobile-has-sub details { border-top:1px solid rgba(255,255,255,.18); }
      .mobile-has-sub summary{
        list-style:none; display:flex; align-items:center; justify-content:space-between;
        cursor:pointer; padding:14px 2px; color:#fff; font-size:22px;
      }
      .mobile-has-sub summary::-webkit-details-marker{ display:none; }
      .mobile-has-sub .car{
        width:14px; height:14px; border-right:2px solid #fff; border-bottom:2px solid #fff;
        transform: rotate(-45deg); transition: transform .2s ease; flex:0 0 14px;
      }
      .mobile-has-sub details[open] .car{ transform: rotate(135deg); }
      .mobile-sub{ list-style:none; margin:0; padding: 0 0 8px 10px; }
      .mobile-sub a{ display:block; padding:10px 2px; color:#fff; font-size:18px; text-decoration:none; opacity:.95; }

      /* Toggle overlay visibility using the checkbox (CSS-only) */
      .mobile-toggle:not(:checked) ~ .mobile-overlay { display:none; }
      .mobile-toggle:checked       ~ .mobile-overlay { display:block; }

      /* Because overlay is fixed and intercepts scroll, no body class is needed */
    }
  </style>
</nav>
